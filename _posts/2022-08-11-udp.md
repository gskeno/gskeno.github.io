---
layout: post
title: 浅谈udp
tags:
- udp
categories: network
description: udp
---

本文主要介绍计算机网络传输层udp的知识

# udp报文结构
<img src="/assets/img/network/udp1.jpg" width="650"/>

只介绍***关键字段***。

- 长度
  
  UDP用户数据报的长度，其最小值是8（仅有首部时值为8）

- 校验和

  在计算检验和时，要在UDP用户数据报之前增加12个字节的`伪首部`。伪首部的第3字段是全零；第4个字段是IP首部中的协议字段的值，对于UDP，此协议字段值为17；第5字段是UDP用户数据报的长度。
  
  所谓“伪首部”是因为这种伪首部并不是UDP用户数据报真正的首部。
  
  只是在计算检验和时，临时添加在UDP用户数据报前面，得到一个临时的UDP用户数据报。
  
  检验和就是按照这个临时的UDP用户数据报来计算的。
  
  伪首部既不向下传送也不向上递交，而仅仅是为了计算检验和。图5-5的最上面给出了伪首部各字段的内容。
  
  UDP计算检验和的方法和计算IP数据报首部检验和的方法相似。
  但不同的是：`IP数据报的检验和只检验IP数据报的首部，但UDP的检验和是把首部和数据部分一起都检验`。

# 参考
1. [计算机网络 谢希仁]()