---
layout: post
title: 交换机堆叠技术
tags:
- network
categories: network
description: 交换机堆叠技术
---


本文我们介绍一下```交换机堆叠```技术。

<!-- more -->


## 1. 交换机堆叠技术

首先，为什么需要```堆叠```呢？ 前面我们提到过，交换机的级连个数不得超过**7个**。举一个简单的例子，一个200节点的网络，如果使用普通24口交换机级连几乎无法实现，因为 24 个端口乘以 7 台交换机等于 168个端口，级连还要用掉一些，大约还有156个端口可用：
<pre>
可用端口 = 6台交换机 * （24个端口 - 1个级连端口） + 1台交换机 * (24个端口 - 与其他6台交换机的级连端口）
        = 6 * (24-1) + 1 *(24 - 6)
        = 6 * 23 + 18
        = 256
</pre>
那么剩余的44台主机就没有位置来连接了。当然还可以使用路由，不过没有路由的情况下应该如何实现呢？ 这类问题早在集线器时代就普遍存在了（HUB尤其明显，因为最多级连个数 10 兆 4 个、百兆 2 个（class II规范）），解决办法就是使用堆叠技术。


堆叠不是使用普通的线缆，而是有专用的堆叠线缆，将设备的主板直接连接，所以早期称之为```背板堆叠技术```。既然是直接在主板上连接（专用的堆叠端口），这样就像是将主板焊接在了一起似的，堆叠起来的设备在逻辑上算是一台。由于堆叠不需要占用端口，有专用的堆叠端口，并且不浪费级连个数，从而使得端口的数量成倍增加。


然而，并不是所有的交换机或集线器都支持堆叠技术，一般厂商有特定型号、使用特定的线缆并且堆叠个数也不一样。

堆叠在今天还有很多扩展的应用，包括主从堆叠、增加带宽和预留扩展升级。


主从堆叠利用了堆叠起来的设备算是一台设备的特点，主设备可以选用功能齐全价格贵的型号，从设备选用功能少便宜的设备，堆叠之后，从设备可以继承主设备的功能特点，从而达到降低费用的目的。    


可以利用主从堆叠的能力，例如主设备购买千兆光纤模块接口后从设备可以直接使用而不需单独购买了，同时因为堆叠电缆的直接连接性还有增加交换机之间带宽的功能。并且如果日后增加端口也可以用继续堆叠的方式顺利升级。

![switch-cascade](https://ivanzz1001.github.io/records/assets/img/network/network_switch_cascade.png)







<br />
<br />

**参考**:

1. [交换机堆叠技术](https://blog.csdn.net/muaxi8/article/details/52043837)

<br />
<br />
<br />

